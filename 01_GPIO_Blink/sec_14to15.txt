SECTION 14
GPIO
GPIO port mode register
Result values:
- 0xA800 0000 for port A
- 0x0000 0280 for port B
- 0x0000 0000 for other ports

SECTION 15
Push-Pull : 강한 녀석
1을 주면 3.3V 전기를 강하게 쏴줌
0을 주면 OV(GND)로 강하게 끌어내림
용도 : LED 켤 때, 모터 돌릴 신호 줄 때

Open Drain : 힘없는 녀석
1을 주면 힘이 없어 Floating상태
해결책 : 풀업 저항
용도 : 쇼트(합선) 방지
ex) MCU 1, MPU6050 0일경우 3.3V와 GND가 직접 만나서 쇼트
Open Drain사용시 절대 합선 안 일어남 : 여러 장치가 선 하나만 공유시 사용

입력 모드 : 입력 회로 ON - 출력 회로 OFF
출력 모드 : 입력 회로 ON - 출력 회로 ON

유용성 : 
Short Circuit(단락) 감지
LED를 켜려고 HIGH 출력(ODR) -> 실제 HIGH가 됐는지 확인(IDR)

Read-Modify-Write 패턴
다른 핀들은 건드리지 않고 PA5만 토글하고 싶을때
읽기 - 토글 - 쓰기

양방향 통신 (I2C, 1-Wire)
출력으로  데이터 전송 - 같은 핀으로 응답 읽기(출력 모드)

ODR로 값 쓰면 -> 출력 드라이버가 핀을 HIGH/LOW로 만듦
IDR로 값 읽으면 -> 입력 버퍼가 핀의 실제 전압 읽음

활용 : 
디버깅
 // LED를 켰는데 안 켜졌을 때 확인
GPIOA->ODR |= (1 << 5);  // LED 켜기 시도

// 실제로 켜졌나 확인
if ((GPIOA->IDR & (1 << 5)) == 0) {
    // 하드웨어 문제! 회로 확인 필요
    printf("LED 회로 점검 필요!\n");
}

오픈 드레인 + 읽기
// 오픈 드레인으로 설정 (I2C 등)
GPIOA->OTYPER |= (1 << 5);

// LOW 출력
GPIOA->ODR &= ~(1 << 5);

// 다른 장치가 핀을 HIGH로 당기는지 확인
uint8_t bus_state = (GPIOA->IDR >> 5) & 1;

